# üöÄ Railway Backend Deployment - Complete Guide

## üìç You are here:
```
/Users/peterolson/Downloads/diamondiq/deploy/downloads/diamondiq/stock-predictor-saas
```

## Step-by-Step Commands:

### 1. Login to Railway
```bash
cd "/Users/peterolson/Downloads/diamondiq/deploy/downloads/diamondiq/stock-predictor-saas"
railway login
```
*This will open your browser for authentication*

### 2. Initialize Project
```bash
railway init --name "stockpredictor-backend"
```

### 3. Deploy Backend
```bash
railway up
```
*This uploads your backend code and starts deployment*

### 4. Add Database Services
```bash
# Add PostgreSQL
railway add postgresql

# Add Redis
railway add redis
```

### 5. Set Environment Variables

Go to Railway Dashboard ‚Üí Your Project ‚Üí Variables and add:

```env
NODE_ENV=production
SECRET_KEY=your-super-secure-32-character-secret-key-here
DEBUG=False

# CORS - Allow your Vercel frontend
ALLOWED_ORIGINS=["https://stock-predictor-saas-5ywbqgndr-peter-olsons-projects.vercel.app"]

# Stripe (get from stripe.com dashboard)
STRIPE_SECRET_KEY=sk_live_51...your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_...your_webhook_secret
STRIPE_PRO_PRICE_ID=price_1...your_pro_price_id
STRIPE_ELITE_PRICE_ID=price_1...your_elite_price_id

# Email (Gmail recommended)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password

# Rate Limits
RATE_LIMIT_FREE=50
RATE_LIMIT_PRO=500
RATE_LIMIT_ELITE=2000

# Note: DATABASE_URL and REDIS_URL are auto-generated by Railway
```

### 6. Get Your Backend URL

After deployment, Railway will provide a URL like:
`https://stockpredictor-backend-production.up.railway.app`

### 7. Update Vercel Frontend

Go to: https://vercel.com/peter-olsons-projects/stock-predictor-saas/settings/environment-variables

Update:
```env
VITE_API_URL=https://your-railway-backend-url.railway.app
```

Then redeploy frontend:
```bash
npx vercel --prod
```

## üîß Verification Commands:

```bash
# Check deployment status
railway status

# View logs
railway logs

# Check services
railway ps
```

## ‚úÖ Expected Results:

1. **Backend API**: https://your-backend.railway.app/docs
2. **Health Check**: https://your-backend.railway.app/health
3. **Database**: PostgreSQL automatically connected
4. **Cache**: Redis automatically connected

## üéØ Complete Architecture:

- **Frontend**: Vercel (https://stock-predictor-saas-5ywbqgndr-peter-olsons-projects.vercel.app)
- **Backend**: Railway (https://your-backend.railway.app)
- **Database**: Railway PostgreSQL
- **Cache**: Railway Redis
- **CDN**: Vercel Edge Network

## üöÄ Next Steps After Deployment:

1. **Test API endpoints**
2. **Configure Stripe webhooks**
3. **Test user registration/login**
4. **Test AI predictions**
5. **Set up monitoring**

## üí° Pro Tips:

- **Environment variables** are encrypted and secure on Railway
- **Automatic scaling** based on traffic
- **Zero-downtime deployments** for updates
- **Built-in monitoring** and logging

Your StockPredictor AI will be fully operational after this deployment! üéâ